{"version":3,"sources":["img/heart.svg","components/Hexagon.js","lib/constants.js","components/Diamond.js","components/ShapeContainer.js","components/SvgFilters.js","lib/audio.js","App.js","index.js"],"names":["module","exports","Hexagon","x","y","fill","stroke","onClick","useState","glow","setGlow","style","transform","className","points","strokeWidth","filter","setTimeout","Diamond","HEX_COORDS","WIDTH","Y_OFFSET","ShapeContainer","playSound","width","height","dangerouslySetInnerHTML","__html","PADDING","map","key","samples","D3","D4","F4","D5","sampler","Sampler","console","log","process","toMaster","volume","value","drum","Player","letters","playing","startBeat","Transport","pause","sync","start","i","sampleCount","Object","keys","length","note","triggerAttack","sequencePromise","Promise","resolve","Sequence","time","bpm","App","setBeat","useEffect","then","src","heartSrc","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45d5328c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/heart.fffbbad8.svg\";","import React, { useState } from \"react\";\nimport { PURPLE } from \"../lib/constants\";\n\nconst Hexagon = ({\n  x,\n  y,\n  fill = PURPLE,\n  stroke = \"black\",\n  onClick = () => {},\n}) => {\n  const [glow, setGlow] = useState(false);\n\n  const handleClick = () => {\n    setGlow(true);\n    onClick();\n    setTimeout(() => {\n      setGlow(false);\n    }, 200);\n  };\n\n  const style = {\n    transform: `translateX(${x}px) translateY(${y}px)`,\n  };\n  return (\n    <polygon\n      className=\"hexagon\"\n      points=\"87.5,0 175,50 175,150 87.5,200 0,150 0,50 87.5,0\"\n      fill={fill}\n      style={style}\n      stroke={stroke}\n      strokeWidth={2}\n      filter={glow ? \"url(#neon)\" : null}\n      onClick={handleClick}\n    />\n  );\n};\n\nexport default Hexagon;\n","export const PURPLE = \"#93278f\";\nexport const MAUVE = \"#936A67\";\n","import React from \"react\";\nimport { PURPLE } from \"../lib/constants\";\n\nconst Diamond = ({ x, y, fill = PURPLE, stroke = \"black\", onClick }) => {\n  const style = {\n    transform: `translateX(${x}px) translateY(${y}px)`,\n  };\n  return (\n    <polygon\n      className=\"diamond\"\n      points=\"87.5,0 175,50 87.5,100 0,50\"\n      fill={fill}\n      style={style}\n      stroke={stroke}\n      strokeWidth={2}\n      onClick={onClick}\n    />\n  );\n};\n\nexport default Diamond;\n","import React, { Fragment } from \"react\";\nimport Hexagon from \"./Hexagon\";\nimport Diamond from \"./Diamond\";\nimport { MAUVE } from \"../lib/constants\";\nimport SvgFilters from \"./SvgFilters\";\n\nconst WIDTH = 175;\nconst Y_OFFSET = 150;\nconst X_CENTER = WIDTH / 2 + WIDTH;\nconst PADDING = 10;\nconst svgSize = WIDTH * 4 + PADDING * 2;\n\nconst HEX_COORDS = [\n  [WIDTH / 2, 0],\n  [WIDTH / 2 + WIDTH * 2, 0],\n\n  [0, Y_OFFSET],\n  [WIDTH, Y_OFFSET],\n  [WIDTH * 2, Y_OFFSET],\n  [WIDTH * 3, Y_OFFSET],\n\n  [WIDTH / 2, Y_OFFSET * 2],\n  [WIDTH / 2 + WIDTH, Y_OFFSET * 2],\n  [WIDTH / 2 + WIDTH * 2, Y_OFFSET * 2],\n\n  [WIDTH, Y_OFFSET * 3],\n  [WIDTH * 2, Y_OFFSET * 3],\n];\n\nconst ShapeContainer = ({ playSound }) => {\n  const renderBox = ([x, y], key) => {\n    return (\n      <Fragment key={key}>\n        <Hexagon\n          x={PADDING + x}\n          y={PADDING + y}\n          onClick={() => playSound(key)}\n        />\n        <Diamond\n          x={PADDING + x}\n          y={PADDING + y}\n          fill={MAUVE}\n          onClick={() => playSound(key)}\n        />\n      </Fragment>\n    );\n  };\n\n  return (\n    <div className=\"shape-container\">\n      <svg width={svgSize} height={svgSize}>\n        <defs dangerouslySetInnerHTML={{ __html: SvgFilters }} />\n        <Diamond x={PADDING + X_CENTER} y={PADDING + 100} />\n        {HEX_COORDS.map(renderBox)}\n        <Diamond\n          x={PADDING + X_CENTER}\n          y={PADDING + Y_OFFSET * 4}\n          fill={MAUVE}\n        />\n      </svg>\n    </div>\n  );\n};\n\nexport default ShapeContainer;\n","const SVG_FILTERS = `\n<filter id=\"neon\">\n  <feFlood flood-color=\"rgb(255,255,128)\" flood-opacity=\"0.5\" in=\"SourceGraphic\" />\n  <feComposite operator=\"in\" in2=\"SourceGraphic\" />\n  <feGaussianBlur stdDeviation=\"10\" />\n  <feComponentTransfer result=\"glow1\">\n      <feFuncA type=\"linear\" slope=\"4\" intercept=\"0\" />\n  </feComponentTransfer>\n  <feMerge>\n      <feMergeNode in=\"glow1\" />\n      <feMergeNode in=\"SourceGraphic\" />\n  </feMerge>\n</filter>\n`;\n\nexport default SVG_FILTERS;\n","import { Sampler, Sequence, Player, Transport } from \"tone\";\n\nconst { PUBLIC_URL } = process.env;\n\nconst __BMIN_SAMPLES = {\n  \"F#2\": \"PAN_02_Pan_Drum_Fs.mp3\",\n  A3: \"PAN_03_Pan_Drum_A.mp3\",\n  \"C#4\": \"PAN_04_Pan_Drum_Cs.mp3\",\n  E4: \"PAN_05_Pan_Drum_E.mp3\",\n  \"F#4\": \"PAN_07_Pan_Drum_Fs.mp3\",\n  // \"D5\": \"PAN_06_Pan_Drum_D.mp3\",\n\n  B4: \"PAN_09_Pan_Drum_B_Soft.mp3\",\n  D4: \"PAN_08_Pan_Drum_D_Soft.mp3\",\n  F5: \"PAN_01_Pan_Drum_F_Soft.mp3\",\n};\n\nconst DMIN_SAMPLES = {\n  D3: \"PAN_15_Pan_Drum_D.mp3\",\n  \"A#4\": \"PAN_16_Pan_Drum_Bb.mp3\",\n  D4: \"PAN_17_Pan_Drum_D.mp3\",\n  F4: \"PAN_18_Pan_Drum_F.mp3\",\n  D5: \"PAN_19_Pan_Drum_A.mp3\",\n};\n\nconst samples = DMIN_SAMPLES;\n\nconst sampler = new Sampler(\n  samples,\n  () => {\n    console.log(\"sampler ready\");\n  },\n  `${PUBLIC_URL}/samples-mp3/`\n).toMaster();\n\nsampler.volume.value = -6;\n\nconst drum = new Player(`${PUBLIC_URL}/samples-mp3/drum.mp3`).toMaster();\ndrum.volume.value = -12;\n\nconst letters = [\n  \"D3\",\n  \"F3\",\n  \"G3\",\n  \"A4\",\n  \"A#4\",\n  \"C#4\",\n  \"D4\",\n  \"F4\",\n  \"G4\",\n  \"A#5\",\n  \"D5\",\n];\n\nlet playing = false;\n\nexport function startBeat() {\n  if (playing) {\n    Transport.pause();\n    playing = false;\n  } else {\n    drum.sync();\n    Transport.start();\n    playing = true;\n  }\n}\n\nexport function playSound(i) {\n  const sampleCount = Object.keys(samples).length;\n  let note = Object.keys(samples)[i % sampleCount];\n  if (true) {\n    note = letters[i % letters.length];\n  }\n\n  sampler.triggerAttack(note);\n}\n\nexport const sequencePromise = new Promise((resolve) => {\n  new Sequence(\n    function (time, note) {\n      drum.volume.value = -6 - note * 2;\n      drum.start(0);\n      resolve(note);\n    },\n    [1, 2, 3, 4]\n  ).start(0);\n});\n\nTransport.bpm.value = 50;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport heartSrc from \"./img/heart.svg\";\nimport ShapeContainer from \"./components/ShapeContainer\";\nimport { playSound, startBeat, sequencePromise } from \"./lib/audio\";\n\nfunction App() {\n  const [beat, setBeat] = useState();\n  useEffect(() => {\n    sequencePromise.then(setBeat);\n  }, []);\n\n  return (\n    <>\n      <nav>\n        <button onClick={startBeat}>Start</button>\n      </nav>\n      <main className=\"app\">\n        <img className=\"heart-bg\" src={heartSrc} alt=\"\" />\n        <ShapeContainer playSound={playSound} />\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}